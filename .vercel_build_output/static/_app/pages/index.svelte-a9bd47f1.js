var E=Object.defineProperty;var A=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var B=(c,e,n)=>e in c?E(c,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[e]=n,v=(c,e)=>{for(var n in e||(e={}))P.call(e,n)&&B(c,n,e[n]);if(A)for(var n of A(e))Y.call(e,n)&&B(c,n,e[n]);return c};import{S as Z,i as z,s as F,I as M,j as m,k as b,m as p,n as S,o as g,f as h,x as i,u as $,v as d,d as _,e as W,c as J,a as K,b as N,r as O,w as X,Y as H,X as U,t as D,g as L,J as k,K as ee,M as te,N as x,O as I,P as Q,Q as se,L as ne,Z as V,_ as ae,$ as oe,h as re}from"../chunks/vendor-0c076a04.js";import{d as j}from"../chunks/database-90b86ea3.js";import{L as le,B as ce}from"../chunks/LeftDrawer-4805f2b8.js";function y(c,e,n){const t=c.slice();return t[4]=e[n],t}function ie(c){let e=c[4].name+"",n;return{c(){n=D(e)},l(t){n=L(t,e)},m(t,a){h(t,n,a)},p(t,a){a&1&&e!==(e=t[4].name+"")&&re(n,e)},d(t){t&&_(n)}}}function $e(c){let e,n;return e=new V({}),{c(){m(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,a){g(e,t,a),n=!0},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function fe(c){let e,n,t,a,r;return e=new ae({props:{$$slots:{default:[ie]},$$scope:{ctx:c}}}),t=new oe({props:{$$slots:{default:[$e]},$$scope:{ctx:c}}}),{c(){m(e.$$.fragment),n=b(),m(t.$$.fragment),a=b()},l(s){p(e.$$.fragment,s),n=S(s),p(t.$$.fragment,s),a=S(s)},m(s,o){g(e,s,o),h(s,n,o),g(t,s,o),h(s,a,o),r=!0},p(s,o){const l={};o&129&&(l.$$scope={dirty:o,ctx:s}),e.$set(l);const f={};o&128&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){r||(i(e.$$.fragment,s),i(t.$$.fragment,s),r=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),r=!1},d(s){d(e,s),s&&_(n),d(t,s),s&&_(a)}}}function C(c){let e,n;return e=new V({props:{$$slots:{default:[fe]},$$scope:{ctx:c}}}),{c(){m(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,a){g(e,t,a),n=!0},p(t,a){const r={};a&129&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function ue(c){let e,n,t=c[0],a=[];for(let s=0;s<t.length;s+=1)a[s]=C(y(c,t,s));const r=s=>$(a[s],1,1,()=>{a[s]=null});return{c(){e=W("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=J(s,"DIV",{slot:!0});var o=K(e);for(let l=0;l<a.length;l+=1)a[l].l(o);o.forEach(_),this.h()},h(){N(e,"slot","drawer-items")},m(s,o){h(s,e,o);for(let l=0;l<a.length;l+=1)a[l].m(e,null);n=!0},p(s,o){if(o&1){t=s[0];let l;for(l=0;l<t.length;l+=1){const f=y(s,t,l);a[l]?(a[l].p(f,o),i(a[l],1)):(a[l]=C(f),a[l].c(),i(a[l],1),a[l].m(e,null))}for(O(),l=t.length;l<a.length;l+=1)r(l);X()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)i(a[o]);n=!0}},o(s){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)$(a[o]);n=!1},d(s){s&&_(e),H(a,s)}}}function me(c){let e,n;return e=new ce({props:{slot:"main-content"}}),{c(){m(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,a){g(e,t,a),n=!0},p:U,i(t){n||(i(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){d(e,t)}}}function pe(c){let e;return{c(){e=D("Sign in with Google")},l(n){e=L(n,"Sign in with Google")},m(n,t){h(n,e,t)},d(n){n&&_(e)}}}function ge(c){let e,n,t,a;return e=new le({props:{$$slots:{"main-content":[me],"drawer-items":[ue]},$$scope:{ctx:c}}}),t=new M({props:{$$slots:{default:[pe]},$$scope:{ctx:c}}}),t.$on("click",c[1]),{c(){m(e.$$.fragment),n=b(),m(t.$$.fragment)},l(r){p(e.$$.fragment,r),n=S(r),p(t.$$.fragment,r)},m(r,s){g(e,r,s),h(r,n,s),g(t,r,s),a=!0},p(r,[s]){const o={};s&129&&(o.$$scope={dirty:s,ctx:r}),e.$set(o);const l={};s&128&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){a||(i(e.$$.fragment,r),i(t.$$.fragment,r),a=!0)},o(r){$(e.$$.fragment,r),$(t.$$.fragment,r),a=!1},d(r){d(e,r),r&&_(n),d(t,r)}}}function ke({page:c}){return console.log("load() index.svelte"),{redirect:"/room/lvzQqyZIV1wjwYnRV9hn",status:301}}function de(c,e,n){let t=[];function a(){const r=new k;r.addScope("https://www.googleapis.com/auth/contacts.readonly");const s=ee();te(s,async o=>{if(o){o.uid;try{const f=(await x(I(j,"classes"))).docs.map(u=>v({id:u.id},u.data()));console.log("allClasses =",f);const w=f[0];w.id="lvzQqyZIV1wjwYnRV9hn";const G=Q(I(j,`classes/${w.id}/roomTypes`)),R=(await x(G)).docs.map(u=>v({id:u.id},u.data()));console.log("allAreas =",R),n(0,t=R);const T=Q(I(j,`classes/${w.id}/rooms`),se("roomTypeID","==",w.id)),q=(await x(T)).docs.map(u=>v({id:u.id},u.data()));console.log("allRooms =",q)}catch(l){console.error("Error adding document: ",l)}}}),console.log("signing in..."),ne(s,r).then(o=>{console.log("success"),k.credentialFromResult(o).accessToken,o.user}).catch(o=>{console.log("error =",o),o.code,o.message,o.email,k.credentialFromError(o)})}return[t,a]}class xe extends Z{constructor(e){super();z(this,e,de,ge,F,{})}}export{xe as default,ke as load};
