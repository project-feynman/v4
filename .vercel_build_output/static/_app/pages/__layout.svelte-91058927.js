var E=Object.defineProperty;var v=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var w=(n,e,s)=>e in n?E(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,f=(n,e)=>{for(var s in e||(e={}))Q.call(e,s)&&w(n,s,e[s]);if(v)for(var s of v(e))R.call(e,s)&&w(n,s,e[s]);return n};import{S as F,i as M,s as P,e as T,j as V,c as q,a as B,m as W,d as m,f as p,o as z,D as H,x as _,u as g,v as J,E as K,k as L,n as N,F as O,G as U,H as Y,A as Z,I as X,t as x,g as ss,J as h,K as D,L as es,M as as,N as $,O as y,P as A,Q as ts}from"../chunks/vendor-0c076a04.js";import{p as os}from"../chunks/actions-c4e01d0d.js";import{s as S,d as b}from"../chunks/database-90b86ea3.js";function ns(n){let e,s,l,r,o,t;return s=new X({props:{$$slots:{default:[ls]},$$scope:{ctx:n}}}),s.$on("click",n[0]),{c(){e=T("div"),V(s.$$.fragment)},l(a){e=q(a,"DIV",{});var i=B(e);W(s.$$.fragment,i),i.forEach(m)},m(a,i){p(a,e,i),z(s,e,null),r=!0,o||(t=H(l=os.call(null,e,"sign-up-area")),o=!0)},p(a,i){const c={};i&8&&(c.$$scope={dirty:i,ctx:a}),s.$set(c)},i(a){r||(_(s.$$.fragment,a),r=!0)},o(a){g(s.$$.fragment,a),r=!1},d(a){a&&m(e),J(s),o=!1,t()}}}function ls(n){let e;return{c(){e=x("Google Sign-in")},l(s){e=ss(s,"Google Sign-in")},m(s,l){p(s,e,l)},d(s){s&&m(e)}}}function cs(n){let e,s,l=!S.uid&&ns(n);const r=n[2].default,o=K(r,n,n[3],null);return{c(){l&&l.c(),e=L(),o&&o.c()},l(t){l&&l.l(t),e=N(t),o&&o.l(t)},m(t,a){l&&l.m(t,a),p(t,e,a),o&&o.m(t,a),s=!0},p(t,[a]){S.uid||l.p(t,a),o&&o.p&&(!s||a&8)&&O(o,r,t,t[3],s?Y(r,t[3],a,null):U(t[3]),null)},i(t){s||(_(l),_(o,t),s=!0)},o(t){g(l),g(o,t),s=!1},d(t){l&&l.d(t),t&&m(e),o&&o.d(t)}}}async function _s({}){return{}}function is(n,e,s){let{$$slots:l={},$$scope:r}=e,{areaDocs:o}=e;function t(){const a=new h,i=D();es(i,a).then(c=>{console.log("success"),h.credentialFromResult(c).accessToken,c.user}).catch(c=>{console.log("error =",c),c.code,c.message,c.email,h.credentialFromError(c)})}return Z(async()=>{const a=D();as(a,async i=>{if(i){i.uid,S.set(i);try{const d=(await $(y(b,"classes"))).docs.map(u=>f({id:u.id},u.data()))[0];d.id="lvzQqyZIV1wjwYnRV9hn";const j=A(y(b,`classes/${d.id}/roomTypes`)),k=(await $(j)).docs.map(u=>f({id:u.id},u.data()));console.log("allAreas =",k),s(1,o=k);const G=A(y(b,`classes/${d.id}/rooms`),ts("roomTypeID","==",d.id)),C=(await $(G)).docs.map(u=>f({id:u.id},u.data()));console.log("allRooms =",C)}catch(c){console.error("Error adding document: ",c)}}else console.log("not logged in")})}),n.$$set=a=>{"areaDocs"in a&&s(1,o=a.areaDocs),"$$scope"in a&&s(3,r=a.$$scope)},[t,o,l,r]}class gs extends F{constructor(e){super();M(this,e,is,cs,P,{areaDocs:1})}}export{gs as default,_s as load};
